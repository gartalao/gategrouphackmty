
> @smart-trolley/api@1.0.0 dev
> nodemon src/index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/index.js`[39m
[Gemini] Configurado con modelo: gemini-robotics-er-1.5-preview
[Gemini] URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-robotics-er-1.5-preview:generateContent
[WS] Video stream namespace initialized at /ws

═══════════════════════════════════════════════════════
🚀 Smart Trolley API Server
═══════════════════════════════════════════════════════
✅ Server running on http://localhost:3001
✅ WebSocket available at ws://localhost:3001/ws
✅ Gemini Mode: 🤖 REAL (Production)
✅ Database: 🟢 Connected
═══════════════════════════════════════════════════════

📡 Endpoints:
   GET  /                          - API info
   GET  /health                    - Health check
   GET  /api/trolleys/:id/realtime-status
   GET  /api/trolleys/:id/detections
   GET  /api/scans/:id/summary

🎥 WebSocket Events:
   start_scan  - Iniciar grabación
   frame       - Enviar frame de video
   end_scan    - Finalizar grabación

👀 Listening for connections...

