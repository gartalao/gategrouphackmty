# Montaje de Hardware

GuÃ­a para el montaje fÃ­sico de telÃ©fonos Android en trolleys y configuraciÃ³n de kiosk mode.

## Materiales Necesarios

### Por Trolley (3 Shelves)

| Item | Cantidad | Costo Unitario | Costo Total |
|------|----------|----------------|-------------|
| Smartphone Android usado | 3 | $100 | $300 |
| Power bank 10,000 mAh | 3 | $20 | $60 |
| Soporte ajustable para telÃ©fono | 3 | $15 | $45 |
| Cable USB (Micro-USB o USB-C) | 6 | $5 | $30 |
| Cinta adhesiva de doble cara 3M | 1 rollo | $10 | $10 |
| Tiras LED 5V USB con difusor | 3m | $25 | $25 |
| Etiquetas QR impresas laminadas | 3 | $2 | $6 |
| **TOTAL POR TROLLEY** | | | **$476** |

**Para 3 trolleys**: ~$1,428 USD

**Alternativa econÃ³mica**: Reutilizar smartphones corporativos retirados â†’ **Costo real: ~$150/trolley**

---

## DiseÃ±o de Montaje

### Vista Lateral del Trolley

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ“± TelÃ©fono (Shelf 1 - Top)   â”‚ â† Soporte ajustable
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—       â”‚
â”‚   â•‘  [  Shelf 1  ]      â•‘       â”‚ â† Repisa con productos
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚                                 â”‚
â”‚   ğŸ“± TelÃ©fono (Shelf 2 - Mid)   â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—       â”‚
â”‚   â•‘  [  Shelf 2  ]      â•‘       â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚                                 â”‚
â”‚   ğŸ“± TelÃ©fono (Shelf 3 - Bot)   â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—       â”‚
â”‚   â•‘  [  Shelf 3  ]      â•‘       â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚                                 â”‚
â”‚   ğŸ”‹ Power Banks (lateral)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Vista Frontal de una Shelf

```
      ğŸ“± TelÃ©fono
      â†“
â”Œâ”€â”€â”€â”€â”€[CÃ¡mara]â”€â”€â”€â”€â”€â”
â”‚      â†“           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚QR  Productosâ”‚â”‚ â† Shelf
â”‚   â”‚ğŸ“‹  ğŸ¥¤ğŸ¥¤ğŸ¥¤   â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Campo de visiÃ³n (FOV): ~90Â°
Distancia: 30-40 cm
```

---

## Paso a Paso: Montaje de TelÃ©fono

### 1. Seleccionar PosiciÃ³n del Soporte

**UbicaciÃ³n ideal**:
- **Lado derecho o izquierdo** de la repisa (no centro, para no obstruir acceso)
- **Altura**: Alineado con el centro vertical de la repisa
- **Distancia**: 30-40 cm desde la repisa

**Criterios**:
- La cÃ¡mara debe apuntar **perpendicular** a la repisa (Ã¡ngulo 90Â°)
- Debe cubrir **toda el Ã¡rea** de la repisa sin recortes
- No debe obstruir el movimiento del operador

---

### 2. Instalar el Soporte

**Tipo de soporte recomendado**: Brazo flexible con pinza o adhesivo

**Opciones**:

#### OpciÃ³n A: Soporte con Pinza
- Ajustar pinza al borde del marco del trolley
- Ventaja: No daÃ±a el trolley, fÃ¡cil de remover
- Desventaja: Puede aflojarse con vibraciÃ³n

#### OpciÃ³n B: Soporte Adhesivo 3M
- Limpiar superficie del trolley con alcohol
- Aplicar cinta adhesiva de doble cara 3M VHB
- Presionar firmemente por 30 segundos
- Esperar 24h para adherencia mÃ¡xima
- Ventaja: Muy estable, soporta vibraciones
- Desventaja: DifÃ­cil de remover sin dejar residuo

**RecomendaciÃ³n**: OpciÃ³n B (adhesivo) para instalaciÃ³n permanente, OpciÃ³n A (pinza) para pruebas temporales.

---

### 3. Montar el TelÃ©fono

**Pasos**:
1. Colocar el telÃ©fono en el soporte (orientaciÃ³n **vertical** u **horizontal** segÃºn FOV)
2. Ajustar Ã¡ngulo de la cÃ¡mara:
   - Apuntar directamente al **centro de la repisa**
   - Verificar FOV con la app de cÃ¡mara (preview)
3. Asegurar tornillos o clips del soporte
4. Probar estabilidad (sacudir suavemente el trolley, no debe moverse)

**OrientaciÃ³n recomendada**: **Horizontal (landscape)** para mejor FOV de repisas anchas

---

### 4. Conectar Power Bank

**UbicaciÃ³n del power bank**: Lateral del trolley (bolsillo o pegado con velcro)

**ConexiÃ³n**:
1. Conectar cable USB del power bank al telÃ©fono
2. Verificar que el telÃ©fono estÃ© **cargando** (icono de baterÃ­a)
3. Habilitar "Carga rÃ¡pida" en settings del telÃ©fono (si estÃ¡ disponible)

**GestiÃ³n de cables**:
- Usar **clips adhesivos** para fijar cable al marco del trolley
- Evitar cables sueltos que puedan enredarse
- Dejar **holgura suficiente** para vibraciÃ³n durante movimiento

---

### 5. Verificar Campo de VisiÃ³n (FOV)

**Proceso**:
1. Abrir app de cÃ¡mara en el telÃ©fono
2. Verificar que se vea **toda la repisa** en el preview
3. Colocar productos de prueba en las esquinas de la repisa
4. Verificar que aparezcan en el preview
5. Ajustar Ã¡ngulo si es necesario

**Herramienta**: Regla o cinta mÃ©trica para asegurar distancia uniforme

---

## Kiosk Mode (Modo Quiosco)

### Objetivo

Prevenir que el telÃ©fono sea usado para otros propÃ³sitos o que la app se cierre accidentalmente.

### ConfiguraciÃ³n en Android

#### MÃ©todo 1: Modo Kiosk Nativo (Android 9+)

**Pasos**:
1. Ir a **Settings â†’ Developer Options**
2. Habilitar **"Stay Awake"** (pantalla siempre encendida cuando conectada)
3. Habilitar **"USB Debugging"** (opcional, para desarrollo)
4. Usar app de terceros como **"Fully Kiosk Browser"** o **"SureLock"**

**Con Fully Kiosk Browser** (recomendado):
1. Descargar desde Google Play
2. Configurar como "Launcher" (iniciador) por defecto
3. Configurar para abrir app Smart Trolley al inicio
4. Habilitar "Lock Settings" para evitar salir
5. Deshabilitar botones de navegaciÃ³n

---

#### MÃ©todo 2: App Launcher Custom

**Concepto**: Crear una app launcher mÃ­nima que solo abre Smart Trolley app

**Ventajas**: Control total sobre quÃ© se puede hacer

**Desventajas**: Requiere desarrollo adicional

---

#### MÃ©todo 3: Manual Pin (Simple pero Funcional)

**Android Task Pinning**:
1. Abrir Smart Trolley app
2. Presionar botÃ³n "Recientes" (âµ o â–¦)
3. Tocar Ã­cono de la app â†’ **"Pin"** o **"Anclar"**
4. Ahora la app no se puede cerrar sin PIN

**Desactivar**: Presionar "AtrÃ¡s" + "Recientes" simultÃ¡neamente, ingresar PIN

**PIN sugerido**: 1234 (compartir con equipo)

---

## IluminaciÃ³n con LED

Ver [IluminaciÃ³n y FOV](lighting-and-fov.md) para detalles completos.

**Resumen de montaje**:
1. Pegar tira LED en la **parte inferior** del shelf superior (apuntando hacia abajo)
2. Conectar a power bank via USB
3. Usar **difusor de silicona** para evitar reflejos directos
4. Intensidad: ~500-800 lumens (ajustable con dimmer si estÃ¡ disponible)

---

## Etiquetado QR

Ver [Etiquetado QR](qr-labeling.md) para detalles completos.

**Resumen**:
- Imprimir QR codes con `shelf_id` codificado
- Laminar (resistente al agua/grasa)
- Pegar en **esquina superior derecha** de cada repisa
- TamaÃ±o: 5Ã—5 cm

---

## Checklist de Montaje por Trolley

### Hardware
- [ ] 3 smartphones Android cargados al 100%
- [ ] 3 power banks cargados al 100%
- [ ] 3 soportes ajustables instalados
- [ ] 3 cables USB conectados
- [ ] Cables asegurados con clips
- [ ] Tiras LED instaladas y funcionando
- [ ] 3 etiquetas QR pegadas

### Software
- [ ] Smart Trolley app instalada en los 3 telÃ©fonos
- [ ] Cada app configurada con su `shelf_id` (vÃ­a QR o manual)
- [ ] Kiosk mode habilitado en los 3 telÃ©fonos
- [ ] "Stay Awake" habilitado
- [ ] WiFi configurado y conectado
- [ ] Prueba de captura: Al menos 1 scan exitoso por telÃ©fono

### Pruebas
- [ ] Captura de imagen: Imagen clara y sin blur
- [ ] FOV: Toda la repisa visible
- [ ] Upload: Scan llega al backend (verificar en dashboard)
- [ ] IluminaciÃ³n: Sin reflejos, productos claramente visibles
- [ ] Estabilidad: Soportes no se mueven al empujar trolley

---

## Mantenimiento

### Diario
- [ ] Verificar nivel de baterÃ­a de power banks (recargar si <20%)
- [ ] Limpiar lente de cÃ¡mara con paÃ±o de microfibra
- [ ] Verificar que apps estÃ©n funcionando (check dashboard)

### Semanal
- [ ] Reajustar soportes si se han aflojado
- [ ] Limpiar superficies adhesivas si acumulan polvo
- [ ] Actualizar app mÃ³vil si hay nueva versiÃ³n

### Mensual
- [ ] Revisar cables USB por desgaste
- [ ] Reemplazar etiquetas QR si estÃ¡n daÃ±adas
- [ ] Prueba de stress: Mover trolley por el almacÃ©n y verificar estabilidad

---

## Troubleshooting

### Problema: Imagen borrosa (motion blur)

**Causa**: TelÃ©fono vibra durante captura

**SoluciÃ³n**:
- Reforzar soporte con adhesivo adicional
- Usar soporte mÃ¡s rÃ­gido (metal vs plÃ¡stico)
- Capturar imagen solo cuando trolley estÃ© detenido (implementar detecciÃ³n de movimiento en app)

---

### Problema: FOV no cubre toda la repisa

**Causa**: Ãngulo de cÃ¡mara incorrecto o distancia muy corta/larga

**SoluciÃ³n**:
- Alejar telÃ©fono 5-10 cm
- Ajustar Ã¡ngulo hacia arriba/abajo
- Usar cÃ¡mara gran angular (si el telÃ©fono tiene multiple cÃ¡maras)

---

### Problema: Power bank se descarga rÃ¡pido (<8h)

**Causa**: Capacidad insuficiente o baterÃ­a degradada

**SoluciÃ³n**:
- Reemplazar power bank con uno de 20,000 mAh
- Conectar directo a corriente AC si hay toma cerca
- Reducir brillo de pantalla del telÃ©fono

---

## Diagrama de Conexiones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TelÃ©fono    â”‚
â”‚  Android     â”‚
â”‚              â”‚
â”‚  [CÃ¡mara]    â”‚ â† Apunta a shelf
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ USB-C/Micro-USB
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Power Bank  â”‚
â”‚  10,000 mAh  â”‚
â”‚  (5V/2A)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tira LED    â”‚
â”‚  5V USB      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ USB
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Power Bank  â”‚
â”‚  (mismo)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Nota**: Si se usa un power bank con 2 puertos USB, conectar tanto el telÃ©fono como el LED al mismo power bank.

---

## Plantilla de ColocaciÃ³n (Imprimible)

**Para asegurar uniformidad entre trolleys**:

1. Crear plantilla de cartÃ³n con:
   - Marca de posiciÃ³n del soporte (X cm desde borde)
   - Marca de altura (Y cm desde base de shelf)
   - Marca de Ã¡ngulo (lÃ­nea de referencia perpendicular)

2. Usar plantilla en cada trolley para replicar setup exacto

**Beneficio**: Consistencia en FOV, facilita troubleshooting

---

## Referencias

- [IluminaciÃ³n y FOV](lighting-and-fov.md) â€” Setup de iluminaciÃ³n
- [Etiquetado QR](qr-labeling.md) â€” GeneraciÃ³n de QR codes
- [Mobile Expo Setup](../setup/mobile-expo-setup.md) â€” ConfiguraciÃ³n de app

